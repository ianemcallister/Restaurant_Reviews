<!--Header row-->
<section class="row filterBar">
	<div class="container">

		<!--Page Title // tab-->
		<h3 class="col-xs-8 col-sm-8 col-md-8 col-lg-8 filterHeading"
			tabindex="10">
			<div>
				<strong>Best restaurants</strong> 
				<span ng-if='list.city'>
					<br>
					in {{list.city}}
				</span>	
			</div>
			
		</h3>

		<!--Filter subview // tabindex starts at 20-->
		<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
			<button class="btn btn-danger filterBtn pull-right"
					ng-click='list.toggleFiltersBox()'
					ng-submit='list.toggleFiltersBox()'
					tabindex="20">
				<span class="glyphicon glyphicon-filter"></span> 
				All Filters
			</button>
			<span class="pull-right" tabindex="21">
				{{list.noOfRestaurants}} restaurant<span ng-if='list.noOfRestaurants > 1'>s</span>
			</span>
		</div>
		
		<!--Filter subview // tabindex starts at 30-->
		<div 	class="filtersBox col-xs-12 col-sm-12 col-md-12 col-lg-12"
				ng-show='list.showExtendedFilters'>
	
			<!--Filter by Type of Cuisine-->
			<div class="filtersSection col-xs-4 col-sm-4 col-md-4 col-lg-4">
				<strong tabindex="30">Category</strong>
				<ul class='filterList'>
					<li>
						<input 	type="checkbox" 
								ng-model='list.filters.cuisine.Mexican' 
								tabindex="31"
								ng-click='list.reFilter("cuisine","Mexican")'
								ng-change='list.reFilter("cuisine","Mexican")'
								/>
								Mexican
					</li>
					<li>
						<input 	type="checkbox" 
								ng-model='list.filters.cuisine.American' 
								tabindex="32"
								ng-click='list.reFilter("cuisine","American")'
								ng-change='list.reFilter("cuisine","American")'
								/>
								American
					</li>
					<li>
						<input 	type="checkbox" 
								ng-model='list.filters.cuisine.Japanese'
								tabindex="33"
								ng-click='list.reFilter("cuisine","Japanese")'
								ng-change='list.reFilter("cuisine","Japanese")'
								/>
								Japanese
					</li>
					<li><a href="" tabindex="34">More...</a></li>
				</ul>
			</div>

			<!--Filter by # of Reviews-->
			<div class="filtersSection col-xs-4 col-sm-4 col-md-4 col-lg-4">
				<strong tabindex="40">Total Reviews</strong>
				<br>More than...
				<ul class="filterList">
					<li>
						<input 	type="radio" 
								ng-model='list.filters.totalReviews' 
								name='totalReviews' 
								value='5' 
								tabindex="41"
								ng-click='list.reFilter("totalReviews")'
								ng-change='list.reFilter("totalReviews")'
								>
								5 Reviews
					</li>
					<li>
						<input 	type="radio" 
								ng-model='list.filters.totalReviews' 
								name='totalReviews' 
								value='50' 
								tabindex="41"
								ng-click='list.reFilter("totalReviews")'
								ng-change='list.reFilter("totalReviews")'
								>
								50 Reviews
					</li>
					<li>
						<input 	type="radio" 
								ng-model='list.filters.totalReviews' 
								name='totalReviews' 
								value='500' 
								tabindex="41"
								ng-click='list.reFilter("totalReviews")'
								ng-change='list.reFilter("totalReviews")'
								>
								500 Reviews
					</li>
				</ul>
			</div>
			
			<!--Filter by star rating-->
			<div class="filtersSection col-xs-4 col-sm-4 col-md-4 col-lg-4">
				<strong tabindex="50">Star Rating</strong>
				<br>At least...
				<ul class="filterList">
					<li>
						<input 	type="radio" 
								name='minimumStars' 
								ng-model='list.filters.starRating' 
								value='3' 
								tabindex="51"
								ng-click='list.reFilter("starRating")'
								ng-change='list.reFilter("starRating")'>
						<star-panel star-rating='3'></star-panel>
					</li>
					<li>
						<input 	type="radio" 
								name='minimumStars' 
								ng-model='list.filters.starRating' 
								value='4' 
								tabindex="51"
								ng-click='list.reFilter("starRating")'
								ng-change='list.reFilter("starRating")'>
						<star-panel star-rating='4'></star-panel>
					</li>
					<li>
						<input 	type="radio" 
								name='minimumStars' 
								ng-model='list.filters.starRating' 
								value='5' 
								tabindex="51"
								ng-click='list.reFilter("starRating")'
								ng-change='list.reFilter("starRating")'>
						<star-panel star-rating='5'></star-panel>
					</li>
				</ul>
			</div>

			<!--Clear all Filters Button-->
			<div class="filtersSection col-xs-12 col-sm-12 col-md-12 col-lg-12">
				<button class='btn btn-warning col-xs-12 col-sm-12 col-md-12 col-lg-12'
						ng-submit='list.resetFilters()' 
						ng-click='list.resetFilters()'
						>
						Reset Filters
				</button>
			</div>

		</div>

		<!--Error Message-->
		<div 	class="col-xs-12 col-sm-12 col-md-12 col-lg-12 alert-danger"
				ng-if='list.searchError'>
			{{list.searchError}}
		</div>
	</div>


	<!--Add sort by filter-->
	<div class="container">
		<div 	class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
			<p>Sort by Restaurant, Total Reviews, Star Rating, or Cuisine</p>
			<label for="sortOption">
				<input 	list='sortOption' 
						name='sortOption' 
						class='col-xs-12 col-sm-12 col-md-12 col-lg-12' 
						placeholder="{{list.toTitleCase(list.order.start)}}"
						tabindex="60"
						ng-model='list.order.new'
						required=''>
				<datalist 	name="sortOption" 
							id="sortOption"
							class='col-xs-12 col-sm-12 col-md-12 col-lg-12'
							>
					<option ng-repeat='sortOption in list.order.options.available' value="{{sortOption}}">{{sortOption}}</option>
				</datalist>
			</label>
		</div>
	</div>
</section>

<!--Search Results row-->
<article class="row">
	<div class="container">
		<div 	class='col-xs-12 col-sm-12 col-md-12 col-lg-12 aRestaurantProfile'
				ng-repeat="spot in list.restaurantList track by $index"
			 	tabindex="70" 
			 	ng-model='test'
			 	ng-click='list.viewRestaurant($index)'
			 	ng-submit='list.viewRestaurant($index)'>
			<!--Restaurant Photo-->
			<div class="col-xs-0 col-sm-0 col-md-3 col-lg-3 restElement" >
				
			</div>

			<!--Restaurant Name, Rating, # of Ratings, and Cuisine-->
			<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 restElement">
				{{$index + 1}}. <a href="">{{spot.name}}</a> <br>
				<div ng-if='spot.noOfReviews > 0'>
					<star-panel star-rating='spot.rating'></star-panel>{{spot.noOfReviews}}
				</div>
				<div ng-if='!(spot.noOfReviews > 0)'>
					No reviews yet
				</div>
				<a href="">{{spot.cuisine}}</a>
			</div>

			<!--Restaurant Address & Phone Number-->
			<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 restElement">
				<span class="pull-right">
				{{spot.address.street1}} <br ng-if='spot.address.street2 !== ""'>
				{{spot.address.street2}} <br ng-if='spot.address.street3 !== ""'>
				{{spot.address.street3}} <br ng-if='spot.address.city !== ""'>
				{{spot.address.city}}, 
				{{spot.address.state}} 
				{{spot.address.zip}}
				<br>
				(555) 555-5555
				</span>
			</div>
			
		</div>
	</div>
</article>